var page11_model=angular.module("MyApp.page11",[]);page11_model.factory("page11getstateSer",["$timeout","$http",function(a,c){return{getstate:function(a){return"yes"==a?c.get("/resetful/nm820/GetState?timestamp\x3d"+(new Date).getTime()):null},getTargetTem:function(a){return"yes"==a?c.get("/resetful/nm820/sysPara/WenduCurve"):null},getSysVal:function(a){return"yes"==a?c.get("/resetful/nm820/sysPara/SysValTable"):null},ifCurrentPage:"yes"}}]);page11_model.directive("page11SetPosition",function(){return{scope:{posTop:"@",posLeft:"@",parentWidth:"@",parentHeight:"@",myWidth:"@",myHeight:"@"},restrict:"EA",link:function(a,c,f,d){d=parseFloat(c.parent().css("width"))/parseFloat(a.parentWidth);f=parseFloat(c.parent().css("height"))/parseFloat(a.parentHeight);var g=parseFloat(d*parseFloat(a.myWidth)),e=parseFloat(f*parseFloat(a.myHeight));c.css("width",g+"px");c.css("height",e+"px");d=parseFloat(d*parseFloat(a.posLeft));a=parseFloat(f*parseFloat(a.posTop));c.css("left",d+"px");c.css("top",a+"px")}}});page11_model.controller("page11StateMainCtrl",["$scope","$http","$timeout","page11getstateSer","$filter",function(a,c,f,d,g){var e=function(a){return 10>a?"0"+a:a},h=function(){var c=d.getstate(d.ifCurrentPage);null!=c&&c.success(function(b){a.TemAvg=b.TemAvg/10;a.HumiAvg=b.HumiAvg/10;a.GDay=b.GDay;a.FanLevel=b.FanLevel;a.Year=b.Year;a.Month=e(b.Month);a.Day=e(b.Day);a.Hour=e(b.Hour);a.Min=e(b.Min);a.Sec=e(b.Sec);a.RelayState=b.RelayState});f(h,1E3)};h();a.relayList=[{value:0,text:"\u624b\u52a8"},{value:1,text:"\u98ce\u673a\u7ec41"},{value:2,text:"\u98ce\u673a\u7ec42"},{value:3,text:"\u98ce\u673a\u7ec43"},{value:4,text:"\u98ce\u673a\u7ec44"},{value:5,text:"\u98ce\u673a\u7ec45"},{value:6,text:"\u98ce\u673a\u7ec46"},{value:7,text:"\u98ce\u673a\u7ec47"},{value:8,text:"\u98ce\u673a\u7ec48"},{value:9,text:"\u52a0\u70ed"},{value:10,text:"\u51b7\u5374\u6c34\u6cf5"},{value:11,text:"\u55b7\u96fe"},{value:12,text:"\u56de\u6d41\u9600"},{value:13,text:"\u7167\u660e1"},{value:14,text:"\u7167\u660e2"},{value:15,text:"\u4fa7\u98ce\u7a97\u5f00"},{value:16,text:"\u4fa7\u98ce\u7a97\u5173"},{value:17,text:"\u5e55\u5e18\u5f00"},{value:18,text:"\u5e55\u5e18\u5173"},{value:19,text:"\u5377\u5e181\u5f00"},{value:20,text:"\u5377\u5e181\u5173"},{value:21,text:"\u5377\u5e182\u5f00"},{value:22,text:"\u5377\u5e182\u5173"},{value:23,text:"\u5377\u5e183\u5f00"},{value:24,text:"\u5377\u5e183\u5173"},{value:25,text:"\u5377\u5e184\u5f00"},{value:26,text:"\u5377\u5e184\u5173"},{value:27,text:"\u5582\u6599"},{value:28,text:"\u989d\u5916\u7cfb\u7edf1"},{value:29,text:"\u989d\u5916\u7cfb\u7edf2"},{value:30,text:"\u989d\u5916\u7cfb\u7edf3"},{value:31,text:"\u989d\u5916\u7cfb\u7edf4"}];a.relayModetoName=function(c){return g("filter")(a.relayList,{value:c})[0].text};var k=function(){var c=d.getTargetTem(d.ifCurrentPage);null!=c&&c.success(function(b){var c=b.Day;b=b.Target;a.GDay<c[0]&&(a.TargetTem=b[0]);for(var d=0;d<c.length-1;d++){if(a.GDay>=c[d]&&a.GDay<c[d+1]){a.TargetTem=b[d];break}if(c[d+1]<c[d]){a.TargetTem=b[d];break}}})},l=function(){var c=d.getSysVal(d.ifCurrentPage);null!=c&&c.success(function(b){a.Relay_1=b.Relay_1;a.Relay_2=b.Relay_2;a.Relay_3=b.Relay_3;a.Relay_4=b.Relay_4;a.Relay_5=b.Relay_5;a.Relay_6=b.Relay_6;a.Relay_7=b.Relay_7;a.Relay_8=b.Relay_8;a.Relay_9=b.Relay_9;a.Relay_10=b.Relay_10;a.Relay_11=b.Relay_11;a.Relay_12=b.Relay_12;a.Relay_13=b.Relay_13;a.Relay_14=b.Relay_14;a.Relay_15=b.Relay_15;a.Relay_16=b.Relay_16;a.Relay_17=b.Relay_17;a.Relay_18=b.Relay_18;a.Relay_19=b.Relay_19;a.Relay_20=b.Relay_20;var c=b.Mode;2==c&&(k(),a.CtrMode="\u66f2\u7ebf+\u901a\u98ce");1==c&&(k(),a.CtrMode="\u66f2\u7ebf");0==c&&(a.TargetTem=b.Temp_Des,a.CtrMode="\u81ea\u8bbe")});f(l,6E5)};l()}]);